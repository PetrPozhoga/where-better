{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport styles from './SlideShow.module.scss';\n\nvar SlideShow = function SlideShow(_ref) {\n  var _ref$children = _ref.children,\n      children = _ref$children === void 0 ? [] : _ref$children,\n      showElements = _ref.showElements,\n      _ref$animationTime = _ref.animationTime,\n      animationTime = _ref$animationTime === void 0 ? 300 : _ref$animationTime,\n      classNameContainer = _ref.classNameContainer,\n      slideHeight = _ref.slideHeight,\n      idRoot = _ref.idRoot,\n      paddingLeft = _ref.paddingLeft,\n      paddingRight = _ref.paddingRight,\n      marginRight = _ref.marginRight;\n\n  var _useState = useState({}),\n      rootElement = _useState[0],\n      setRootElement = _useState[1];\n\n  var _useState2 = useState({}),\n      wrapElement = _useState2[0],\n      setWrapElement = _useState2[1];\n\n  var _useState3 = useState({}),\n      containerElement = _useState3[0],\n      setContainerElement = _useState3[1];\n\n  var _useState4 = useState([]),\n      copyChildren = _useState4[0],\n      setCopyChildren = _useState4[1];\n\n  var _useState5 = useState({\n    totalSlide: children.length,\n    currentIndex: 0,\n    currentElementIndex: 0\n  }),\n      slideOption = _useState5[0],\n      setSlideOption = _useState5[1];\n\n  var _useState6 = useState(false),\n      slideIsOver = _useState6[0],\n      setSlideIsOver = _useState6[1];\n\n  useEffect(function () {\n    setRootElement(document.getElementById(styles.root + idRoot));\n  }, [rootElement]);\n  useEffect(function () {\n    setWrapElement(document.querySelector('.' + classNameContainer));\n  }, [wrapElement]);\n  useEffect(function () {\n    var container = document.querySelector('.' + styles.container + classNameContainer);\n    setContainerElement(container);\n    container.style.transition = 'left linear ' + animationTime + 'ms';\n    console.log('left linear ' + animationTime + 'ms');\n    var slideItem = document.querySelectorAll('.' + styles.container + classNameContainer + '>div');\n    slideItem.forEach(function (item, index) {\n      console.log((wrapElement.offsetWidth - (showElements - 1) * marginRight) / showElements);\n      item.style.width = (wrapElement.offsetWidth - (showElements - 1) * (marginRight || 0)) / showElements + 'px';\n      item.style.marginRight = (marginRight || 0) + 'px';\n    });\n  }, [containerElement]);\n  useEffect(function () {\n    setCopyChildren(children.slice());\n  }, [children]);\n\n  var changeSlide = function changeSlide(slide) {\n    if (slideIsOver) return false;else {\n      setSlideIsOver(true);\n      var newChildrenArr = [];\n      var currentIndex = slideOption.currentIndex + slide;\n      var currentElementIndex = slideOption.currentElementIndex + slide;\n      currentElementIndex = currentElementIndex < 0 ? copyChildren.length - 1 : currentElementIndex > copyChildren.length - 1 ? 0 : currentElementIndex;\n\n      if (slide === 1) {\n        var firstChild = copyChildren[0];\n        newChildrenArr = [].concat(_toConsumableArray(copyChildren.slice(1, copyChildren.length)), [firstChild]);\n      } else {\n        var lastChild = copyChildren[copyChildren.length - 1];\n        newChildrenArr = [lastChild].concat(_toConsumableArray(copyChildren.slice(0, copyChildren.length - 1)));\n      }\n\n      setSlideOption(_objectSpread({}, slideOption, {\n        currentIndex: currentIndex,\n        currentElementIndex: currentElementIndex\n      }));\n      setTimeout(function () {\n        setCopyChildren(newChildrenArr);\n        document.querySelector('.' + styles.container + classNameContainer).style.marginLeft = currentIndex * (wrapElement.offsetWidth / showElements) + 'px';\n      }, slide === 1 ? animationTime : 0);\n      setTimeout(function () {\n        setSlideIsOver(false);\n      }, animationTime);\n    }\n  };\n\n  var setCurrentSlide = function setCurrentSlide(index) {\n    if (slideOption.currentElementIndex === index) return;else {\n      var container = document.querySelector('.' + styles.container + classNameContainer);\n      container.style.transition = 'none';\n      var currentIndex = index - slideOption.currentElementIndex;\n      var newChildrenArr = [];\n\n      if (currentIndex >= 1) {\n        var firstChild = copyChildren.slice(0, Math.abs(currentIndex));\n        console.log(firstChild);\n        newChildrenArr = [].concat(_toConsumableArray(copyChildren.slice(Math.abs(currentIndex), copyChildren.length)), _toConsumableArray(firstChild));\n      } else {\n        var lastChild = copyChildren.slice(copyChildren.length - Math.abs(currentIndex), copyChildren.length);\n        copyChildren.splice(copyChildren.length - Math.abs(currentIndex), lastChild.length);\n        newChildrenArr = [].concat(_toConsumableArray(lastChild), _toConsumableArray(copyChildren));\n      }\n\n      setSlideOption(_objectSpread({}, slideOption, {\n        currentIndex: slideOption.currentIndex + currentIndex,\n        currentElementIndex: index\n      }));\n      setCopyChildren(newChildrenArr);\n      container.style.marginLeft = (slideOption.currentIndex + currentIndex) * (wrapElement.offsetWidth / showElements) + 'px';\n      setTimeout(function () {\n        return container.style.transition = 'left linear ' + animationTime + 'ms';\n      }, animationTime);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.root,\n    id: styles.root + idRoot\n  }, __jsx(\"div\", {\n    style: {\n      height: slideHeight,\n      position: 'relative'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: rootElement.offsetWidth - (paddingLeft || 0) - (paddingRight || 0) + 'px'\n    },\n    className: styles.wrapp + ' ' + classNameContainer\n  }, __jsx(\"div\", {\n    className: styles.container + ' ' + styles.container + classNameContainer,\n    style: {\n      left: -(slideOption.currentIndex * (wrapElement.offsetWidth / showElements)) + 'px',\n      width: wrapElement && (wrapElement.offsetWidth + (marginRight || 0) * (showElements - 1)) / showElements * copyChildren.length + 'px'\n    }\n  }, copyChildren.map(function (item) {\n    return item;\n  }))), __jsx(\"div\", {\n    className: styles.arrowControl\n  }, __jsx(\"svg\", {\n    width: \"65\",\n    height: \"65\",\n    viewBox: \"0 0 65 65\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    onClick: changeSlide.bind(null, -1)\n  }, __jsx(\"circle\", {\n    cx: \"32.5\",\n    cy: \"32.5\",\n    r: \"32.5\",\n    fill: \"#4D3E3D\"\n  }), __jsx(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M40.3939 47.7127L36.278 51.8287L16.7576 32.3083L36.278 12.7878L40.3939 16.9038L24.9894 32.3083L40.3939 47.7127Z\",\n    fill: \"white\"\n  })), __jsx(\"svg\", {\n    width: \"65\",\n    height: \"65\",\n    viewBox: \"0 0 65 65\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    onClick: changeSlide.bind(null, 1)\n  }, __jsx(\"circle\", {\n    r: \"32.5\",\n    transform: \"matrix(-1 0 0 1 32.5 32.5)\",\n    fill: \"#4D3E3D\"\n  }), __jsx(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M24.6061 47.7127L28.722 51.8287L48.2424 32.3083L28.722 12.7878L24.6061 16.9038L40.0106 32.3083L24.6061 47.7127Z\",\n    fill: \"white\"\n  })))), __jsx(\"div\", {\n    className: styles.circleControl\n  }, copyChildren.map(function (item, key) {\n    return __jsx(\"div\", {\n      key: key + item,\n      onClick: setCurrentSlide.bind(null, key),\n      className: slideOption.currentElementIndex === key ? styles.activeCircle : ''\n    });\n  })));\n};\n\nexport default SlideShow;","map":null,"metadata":{},"sourceType":"module"}