{"ast":null,"code":"var _jsxFileName = \"/Users/petrpozoga/WIB/where-better/src/componentns/Layouts/Select/Select.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styles from './Select.module.scss';\n\nconst Select = ({\n  items,\n  changeSelect = function () {},\n  name,\n  itemKey,\n  selected\n}) => {\n  const {\n    0: showItems,\n    1: setShowItems\n  } = useState(false);\n  const {\n    0: selectedItem,\n    1: setSelectedItem\n  } = useState('');\n  let target; // useEffect(() => {\n  //   document.getElementById('App').addEventListener('click', hideDropDown)\n  // }, [showItems])\n\n  useEffect(() => {\n    setSelectedItem(JSON.parse(JSON.stringify(selected || items[0])));\n  }, [selected, items]);\n\n  const dropDown = event => {\n    target = event.target;\n    setShowItems(!showItems);\n  };\n\n  const hideDropDown = event => {\n    if (event.target !== target) {\n      setShowItems(false);\n      document.getElementById('App').removeEventListener('click', hideDropDown);\n    }\n  };\n\n  const selectItem = item => {\n    setSelectedItem(item);\n    setShowItems(false);\n\n    try {\n      changeSelect(item, name);\n    } catch (err) {\n      return console.log(err);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.root + ' ' + (showItems ? styles.rootActive : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.selectedItem,\n    onClick: dropDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, selectedItem[itemKey] ? selectedItem[itemKey] : null), __jsx(\"div\", {\n    className: \"select-box--arrow\",\n    onClick: dropDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: `${!showItems ? 'icon-shape' : 'icon-shape icon-shape-top'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"select-box--items\",\n    style: {\n      display: showItems ? 'block' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, items.map((item, index) => __jsx(\"div\", {\n    key: index,\n    onClick: () => selectItem(item),\n    className: selectedItem[itemKey] === item[itemKey] ? styles.selected : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, item[itemKey])))));\n};\n\nexport default Select;","map":{"version":3,"sources":["/Users/petrpozoga/WIB/where-better/src/componentns/Layouts/Select/Select.js"],"names":["React","useState","useEffect","styles","Select","items","changeSelect","name","itemKey","selected","showItems","setShowItems","selectedItem","setSelectedItem","target","JSON","parse","stringify","dropDown","event","hideDropDown","document","getElementById","removeEventListener","selectItem","item","err","console","log","root","rootActive","box","container","display","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styles from './Select.module.scss'\n\nconst Select = ({ items, changeSelect = function () {}, name, itemKey, selected }) => {\n\n  const [ showItems, setShowItems ] = useState(false)\n  const [ selectedItem, setSelectedItem ] = useState('')\n  let target\n\n  // useEffect(() => {\n  //   document.getElementById('App').addEventListener('click', hideDropDown)\n  // }, [showItems])\n\n\n  useEffect(() => {\n    setSelectedItem(JSON.parse(JSON.stringify(selected || items[0])))\n  }, [selected, items])\n\n  const dropDown = (event) => {\n    target = event.target\n    setShowItems(!showItems)\n  }\n\n  const hideDropDown = (event) => {\n    if (event.target !== target) {\n      setShowItems(false)\n      document.getElementById('App').removeEventListener('click', hideDropDown)\n    }\n  }\n\n  const selectItem = (item) => {\n    setSelectedItem(item)\n    setShowItems(false)\n\n    try {\n      changeSelect(item, name)\n    } catch (err) {\n      return console.log(err)\n    }\n  }\n\n  return (\n    <div className={ styles.root + ' ' + (showItems ? styles.rootActive : '') }>\n      <div className={ styles.box }>\n        <div className={ styles.container }>\n          <div className={ styles.selectedItem } onClick={ dropDown }>\n            { selectedItem[ itemKey ] ? selectedItem[ itemKey ] : null }\n          </div>\n          <div className=\"select-box--arrow\" onClick={ dropDown }>\n            <span className={ `${ !showItems ? 'icon-shape' : 'icon-shape icon-shape-top' }` }/>\n          </div>\n        </div>\n\n        <div\n          className=\"select-box--items\"\n          style={ { display: showItems ? 'block' : 'none' } }>\n          {\n            items.map((item, index) =>\n              <div key={ index }\n                   onClick={ () => selectItem(item) }\n                   className={ selectedItem[ itemKey ] === item[ itemKey ] ? styles.selected : '' }>\n                { item[ itemKey ] }\n              </div>)\n          }\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Select\n"]},"metadata":{},"sourceType":"module"}