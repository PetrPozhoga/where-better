{"ast":null,"code":"var _jsxFileName = \"/Users/petrpozoga/WIB/where-better/src/componentns/Layouts/Select/Select.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styles from './Select.module.scss';\n\nconst Select = ({\n  items,\n  changeSelect = function () {},\n  name,\n  itemKey = 'label',\n  selected\n}) => {\n  const {\n    0: showItems,\n    1: setShowItems\n  } = useState(false);\n  const {\n    0: selectedItem,\n    1: setSelectedItem\n  } = useState({});\n  let target;\n  useEffect(() => {\n    console.log(selected || items[0]);\n    setSelectedItem(JSON.parse(JSON.stringify(selected || items[0])));\n  }, [selected, items]);\n\n  const dropDown = event => {\n    target = event.target;\n    setShowItems(!showItems);\n    document.getElementById('App').addEventListener('click', hideDropDown);\n  };\n\n  const hideDropDown = event => {\n    if (event.target !== target) {\n      setShowItems(false);\n      document.getElementById('App').removeEventListener('click', hideDropDown);\n    }\n  };\n\n  const selectItem = item => {\n    setSelectedItem(item);\n    setShowItems(false);\n\n    try {\n      changeSelect(item, name);\n    } catch (err) {\n      return console.log(err);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.root + ' ' + (showItems ? styles.rootActive : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.selectedItem,\n    onClick: dropDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, selectedItem[itemKey]), __jsx(\"div\", {\n    className: \"select-box--arrow\",\n    onClick: dropDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: `${!showItems ? 'icon-shape' : 'icon-shape icon-shape-top'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"select-box--items\",\n    style: {\n      display: showItems ? 'block' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, items.map((item, index) => __jsx(\"div\", {\n    key: index,\n    onClick: () => selectItem(item),\n    className: selectedItem[itemKey] === item[itemKey] ? styles.selected : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, item[itemKey])))));\n};\n\nexport default Select;","map":{"version":3,"sources":["/Users/petrpozoga/WIB/where-better/src/componentns/Layouts/Select/Select.js"],"names":["React","useState","useEffect","styles","Select","items","changeSelect","name","itemKey","selected","showItems","setShowItems","selectedItem","setSelectedItem","target","console","log","JSON","parse","stringify","dropDown","event","document","getElementById","addEventListener","hideDropDown","removeEventListener","selectItem","item","err","root","rootActive","box","container","display","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styles from './Select.module.scss'\n\nconst Select = ({ items, changeSelect = function () {}, name, itemKey = 'label', selected }) => {\n\n  const [ showItems, setShowItems ] = useState(false)\n  const [ selectedItem, setSelectedItem ] = useState({})\n  let target\n\n  useEffect(() => {\n    console.log(selected || items[0])\n    setSelectedItem(JSON.parse(JSON.stringify(selected || items[0])))\n  }, [selected, items])\n\n  const dropDown = (event) => {\n    target = event.target\n    setShowItems(!showItems)\n    document.getElementById('App').addEventListener('click', hideDropDown)\n  }\n\n  const hideDropDown = (event) => {\n    if (event.target !== target) {\n      setShowItems(false)\n      document.getElementById('App').removeEventListener('click', hideDropDown)\n    }\n  }\n\n  const selectItem = (item) => {\n    setSelectedItem(item)\n    setShowItems(false)\n\n    try {\n      changeSelect(item, name)\n    } catch (err) {\n      return console.log(err)\n    }\n  }\n\n  return (\n    <div className={ styles.root + ' ' + (showItems ? styles.rootActive : '') }>\n      <div className={ styles.box }>\n        <div className={ styles.container }>\n          <div className={ styles.selectedItem } onClick={ dropDown }>\n            { selectedItem[ itemKey ] }\n          </div>\n          <div className=\"select-box--arrow\" onClick={ dropDown }>\n            <span className={ `${ !showItems ? 'icon-shape' : 'icon-shape icon-shape-top' }` }/>\n          </div>\n        </div>\n\n        <div\n          className=\"select-box--items\"\n          style={ { display: showItems ? 'block' : 'none' } }>\n          {\n            items.map((item, index) =>\n              <div key={ index }\n                   onClick={ () => selectItem(item) }\n                   className={ selectedItem[ itemKey ] === item[ itemKey ] ? styles.selected : '' }>\n                { item[ itemKey ] }\n              </div>)\n          }\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Select\n"]},"metadata":{},"sourceType":"module"}